!function(){var a,b;!function(){var c={},d={};a=function(a,b,d){c[a]={deps:b,callback:d}},b=function(a){if(d[a])return d[a];d[a]={};var e=c[a];if(!e)throw new Error("Module '"+a+"' not found.");for(var f,g=e.deps,h=e.callback,i=[],j=0,k=g.length;k>j;j++)"exports"===g[j]?i.push(f={}):i.push(b(g[j]));var l=h.apply(this,i);return d[a]=f||l}}(),a("factory/adapters",["exports"],function(a){"use strict";var b=Ember.Object.extend({isRecord:function(){return!1},isBelongsTo:function(){return!1},belongsToModelClass:function(){},typeName:function(a){var b=a.toString().split(".");return Em.String.camelize(b[b.length-1])},modelFor:function(a,b){return a[Ember.String.classify(b)]},createRecord:function(a,b,c){return this.modelFor(a,b).createRecord(c)},save:function(){}}),c=b.extend({modelFor:function(a,b){return a.__container__.lookup("store:main").modelFor(b)},typeName:function(a){return Ember.String.camelize(a.typeKey)},isRecord:function(a){return a instanceof DS.Model},isBelongsTo:function(a,b){var c=a.metaForProperty(b);return c.isRelationship&&"belongsTo"===c.kind},belongsToModelClass:function(a,b,c){var d=b.metaForProperty(c),e=d.type;return"string"===Ember.typeOf(e)&&(e=this.modelFor(a,e)),e},createRecord:function(a,b,c){return a.__container__.lookup("store:main").createRecord(b,c)},save:function(a,b,c){return c=c||[],Ember.RSVP.resolve(b.save())}});a.Adapter=b,a.EmberDataAdapter=c}),a("factory",["factory/adapters"],function(a){"use strict";function b(a,c,d,e){function f(a,c,d,e){return b(c,d,e,{commit:w})}function l(b){var c,d=Em.RSVP.defer(),e=[];for(r=k(a,x.modelName,s),c=0;c<b.length;c++)r.set(v[c],b[c]),e.push(b[c]);for(var f in t)r.set(f,t[f]),e.push(t[f]);return w?d.resolve(o.adapter.save(a,r,e)):Em.run.next(function(){d.resolve(r)}),d.promise}var m,n,q,r,s={},t={},u=[],v=[];e=e||{};var w=e.commit||!1,x=p[c];q=o.attr(a,c,d),n=j(a,x.modelName);for(m in q){var y=q[m];if(y&&h(n,m)){var z=o.adapter.belongsToModelClass(a,n,m);g(y)?t[m]=y:(v.push(m),u.push(f(m,a,i(z),y,{commit:w})))}else s[m]=y}return Ember.RSVP.all(u).then(l)}function c(a,b,c){return o.attr(a,b,c)}function d(a,b,c){return a.testHelpers.wait(o.build(a,b,c))}function e(a,b,c){return a.testHelpers.wait(o.create(a,b,c))}function f(a,b){var c={};for(var d in b)c[d]="function"==typeof b[d]?b[d](a):b[d];return c}function g(a){return o.adapter.isRecord(a)}function h(a,b){return o.adapter.isBelongsTo(a,b)}function i(a){return o.adapter.typeName(a)}function j(a,b){return o.adapter.modelFor(a,b)}function k(a,b,c){return o.adapter.createRecord(a,b,c)}function l(a,b){return Em.$.extend(!0,{},a,b)}var m=a.Adapter,n=a.EmberDataAdapter,o=Ember.Namespace.extend(Ember.Evented).create(),p={};o.define=function(a,b,c){p[a]={props:b};var d={modelName:Ember.String.camelize(a)};c=l(d,c),p[a]=l(p[a],c)},o.attr=function(a,b,c){var d;return c=c||{},c=f(a,c),d=l(p[b].props,c),d=f(a,d)},o.build=function(a,c,d){var e,f={app:a,name:c,attr:d},g=this;return Ember.run(function(){g.trigger("beforeBuild",f),e=b(a,c,d).then(function(a){return f.record=a,g.trigger("afterBuild",f),a})}),e},o.create=function(a,c,d){var e,f={app:a,name:c,attr:d},g=this;return Ember.run(function(){g.trigger("beforeCreate",f),e=b(a,c,d,{commit:!0}).then(function(a){return f.record=a,g.trigger("afterCreate",f),a})}),e},o.reset=function(){p={}},o.Adapter=m,o.EmberDataAdapter=n;var q=Ember.Test.registerHelper;return q("attr",c),Ember.Test.registerAsyncHelper&&(q=Ember.Test.registerAsyncHelper),q("build",d),q("create",e),o.adapter=o.EmberDataAdapter.create(),o}),window.Factory=b("factory")}(window);
